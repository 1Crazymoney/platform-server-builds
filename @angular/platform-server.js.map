{"version":3,"file":"platform-server.js","sources":["../../../../packages/platform-server/index.ts","../../../../packages/platform-server/public_api.ts","../../../../packages/platform-server/src/platform-server.ts","../../../../packages/platform-server/src/version.ts","../../../../packages/platform-server/src/private_export.ts","../../../../packages/platform-server/src/utils.ts","../../../../packages/platform-server/src/server.ts","../../../../packages/platform-server/src/styles_host.ts","../../../../packages/platform-server/src/server_renderer.ts","../../../../packages/platform-server/src/location.ts","../../../../packages/platform-server/src/tokens.ts","../../../../packages/platform-server/src/http.ts","../../../../packages/platform-server/src/platform_state.ts","../../../../packages/platform-server/src/domino_adapter.ts"],"sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport {PlatformState,ServerModule,platformDynamicServer,platformServer,INITIAL_CONFIG,PlatformConfig,renderModule,renderModuleFactory,VERSION,ɵINTERNAL_SERVER_PLATFORM_PROVIDERS,ɵSERVER_RENDER_PROVIDERS,ɵServerRendererFactory2} from './public_api';\n\nexport {SERVER_HTTP_PROVIDERS as ɵg,ServerXhr as ɵc,ServerXsrfStrategy as ɵd,httpFactory as ɵe,zoneWrappedInterceptingHandler as ɵf} from './src/http';\nexport {instantiateServerRendererFactory as ɵa} from './src/server';\nexport {ServerStylesHost as ɵb} from './src/styles_host';","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the platform-server package.\n */\nexport {PlatformState,ServerModule,platformDynamicServer,platformServer,INITIAL_CONFIG,PlatformConfig,renderModule,renderModuleFactory,VERSION,ɵINTERNAL_SERVER_PLATFORM_PROVIDERS,ɵSERVER_RENDER_PROVIDERS,ɵServerRendererFactory2} from './src/platform-server';\n\n// This file only reexports content of the `src` folder. Keep it that way.\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport {PlatformState} from './platform_state';\nexport {ServerModule, platformDynamicServer, platformServer} from './server';\nexport {INITIAL_CONFIG, PlatformConfig} from './tokens';\nexport {renderModule, renderModuleFactory} from './utils';\n\nexport {ɵINTERNAL_SERVER_PLATFORM_PROVIDERS,ɵSERVER_RENDER_PROVIDERS,ɵServerRendererFactory2} from './private_export';\nexport {VERSION} from './version';\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n\nimport {Version} from '@angular/core';\n/**\n * \\@stable\n */\nexport const /** @type {?} */ VERSION = new Version('5.0.0-beta.5-56b751e');\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nexport {INTERNAL_SERVER_PLATFORM_PROVIDERS as ɵINTERNAL_SERVER_PLATFORM_PROVIDERS, SERVER_RENDER_PROVIDERS as ɵSERVER_RENDER_PROVIDERS} from './server';\nexport {ServerRendererFactory2 as ɵServerRendererFactory2} from './server_renderer';","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ApplicationRef, NgModuleFactory, NgModuleRef, PlatformRef, StaticProvider, Type} from '@angular/core';\nimport {ɵTRANSITION_ID} from '@angular/platform-browser';\nimport {filter} from 'rxjs/operator/filter';\nimport {first} from 'rxjs/operator/first';\nimport {toPromise} from 'rxjs/operator/toPromise';\n\nimport {PlatformState} from './platform_state';\nimport {platformDynamicServer, platformServer} from './server';\nimport {INITIAL_CONFIG} from './tokens';\n/**\n * @record\n */\nfunction PlatformOptions() {}\n\n\nfunction PlatformOptions_tsickle_Closure_declarations() {\n/** @type {?|undefined} */\nPlatformOptions.prototype.document;\n/** @type {?|undefined} */\nPlatformOptions.prototype.url;\n/** @type {?|undefined} */\nPlatformOptions.prototype.extraProviders;\n}\n\n\ninterface PlatformOptions {\n  document?: string;\n  url?: string;\n  extraProviders?: StaticProvider[];\n}\n/**\n * @param {?} platformFactory\n * @param {?} options\n * @return {?}\n */\nfunction _getPlatform(\n    platformFactory: (extraProviders: StaticProvider[]) => PlatformRef,\n    options: PlatformOptions): PlatformRef {\n  const /** @type {?} */ extraProviders = options.extraProviders ? options.extraProviders : [];\n  return platformFactory([\n    {provide: INITIAL_CONFIG, useValue: {document: options.document, url: options.url}},\n    extraProviders\n  ]);\n}\n/**\n * @template T\n * @param {?} platform\n * @param {?} moduleRefPromise\n * @return {?}\n */\nfunction _render<T>(\n    platform: PlatformRef, moduleRefPromise: Promise<NgModuleRef<T>>): Promise<string> {\n  return moduleRefPromise.then((moduleRef) => {\n    const /** @type {?} */ transitionId = moduleRef.injector.get(ɵTRANSITION_ID, null);\n    if (!transitionId) {\n      throw new Error(\n          `renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\nthe server-rendered app can be properly bootstrapped into a client app.`);\n    }\n    const /** @type {?} */ applicationRef: ApplicationRef = moduleRef.injector.get(ApplicationRef);\n    return toPromise\n        .call(first.call(filter.call(applicationRef.isStable, (isStable: boolean) => isStable)))\n        .then(() => {\n          const /** @type {?} */ output = platform.injector.get(PlatformState).renderToString();\n          platform.destroy();\n          return output;\n        });\n  });\n}\n/**\n * Renders a Module to string.\n * \n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n * \n * Do not use this in a production server environment. Use pre-compiled {\\@link NgModuleFactory} with\n * {\\@link renderModuleFactory} instead.\n * \n * \\@experimental\n * @template T\n * @param {?} module\n * @param {?} options\n * @return {?}\n */\nexport function renderModule<T>(\n    module: Type<T>, options: {document?: string, url?: string, extraProviders?: StaticProvider[]}):\n    Promise<string> {\n  const /** @type {?} */ platform = _getPlatform(platformDynamicServer, options);\n  return _render(platform, platform.bootstrapModule(module));\n}\n/**\n * Renders a {\\@link NgModuleFactory} to string.\n * \n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n * \n * \\@experimental\n * @template T\n * @param {?} moduleFactory\n * @param {?} options\n * @return {?}\n */\nexport function renderModuleFactory<T>(\n    moduleFactory: NgModuleFactory<T>,\n    options: {document?: string, url?: string, extraProviders?: StaticProvider[]}):\n    Promise<string> {\n  const /** @type {?} */ platform = _getPlatform(platformServer, options);\n  return _render(platform, platform.bootstrapModuleFactory(moduleFactory));\n}\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵAnimationEngine} from '@angular/animations/browser';\nimport {PlatformLocation, ɵPLATFORM_SERVER_ID as PLATFORM_SERVER_ID} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport {Injectable, InjectionToken, Injector, NgModule, NgZone, Optional, PLATFORM_ID, PLATFORM_INITIALIZER, PlatformRef, Provider, RendererFactory2, RootRenderer, StaticProvider, Testability, createPlatformFactory, isDevMode, platformCore, ɵALLOW_MULTIPLE_PLATFORMS as ALLOW_MULTIPLE_PLATFORMS} from '@angular/core';\nimport {HttpModule} from '@angular/http';\nimport {BrowserModule, DOCUMENT, ɵSharedStylesHost as SharedStylesHost, ɵTRANSITION_ID, ɵgetDOM as getDOM} from '@angular/platform-browser';\nimport {ɵplatformCoreDynamic as platformCoreDynamic} from '@angular/platform-browser-dynamic';\nimport {NoopAnimationsModule, ɵAnimationRendererFactory} from '@angular/platform-browser/animations';\n\nimport {DominoAdapter, parseDocument} from './domino_adapter';\nimport {SERVER_HTTP_PROVIDERS} from './http';\nimport {ServerPlatformLocation} from './location';\nimport {PlatformState} from './platform_state';\nimport {ServerRendererFactory2} from './server_renderer';\nimport {ServerStylesHost} from './styles_host';\nimport {INITIAL_CONFIG, PlatformConfig} from './tokens';\n/**\n * @param {?} feature\n * @return {?}\n */\nfunction notSupported(feature: string): Error {\n  throw new Error(`platform-server does not support '${feature}'.`);\n}\n\nexport const /** @type {?} */ INTERNAL_SERVER_PLATFORM_PROVIDERS: StaticProvider[] = [\n  {provide: DOCUMENT, useFactory: _document, deps: [Injector]},\n  {provide: PLATFORM_ID, useValue: PLATFORM_SERVER_ID},\n  {provide: PLATFORM_INITIALIZER, useFactory: initParse5Adapter, multi: true, deps: [Injector]}, {\n    provide: PlatformLocation,\n    useClass: ServerPlatformLocation,\n    deps: [DOCUMENT, [Optional, INITIAL_CONFIG]]\n  },\n  {provide: PlatformState, deps: [DOCUMENT]},\n  // Add special provider that allows multiple instances of platformServer* to be created.\n  {provide: ALLOW_MULTIPLE_PLATFORMS, useValue: true}\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initParse5Adapter(injector: Injector) {\n  return () => { DominoAdapter.makeCurrent(); };\n}\n/**\n * @param {?} renderer\n * @param {?} engine\n * @param {?} zone\n * @return {?}\n */\nexport function instantiateServerRendererFactory(\n    renderer: RendererFactory2, engine: ɵAnimationEngine, zone: NgZone) {\n  return new ɵAnimationRendererFactory(renderer, engine, zone);\n}\n\nexport const /** @type {?} */ SERVER_RENDER_PROVIDERS: Provider[] = [\n  ServerRendererFactory2,\n  {\n    provide: RendererFactory2,\n    useFactory: instantiateServerRendererFactory,\n    deps: [ServerRendererFactory2, ɵAnimationEngine, NgZone]\n  },\n  ServerStylesHost,\n  {provide: SharedStylesHost, useExisting: ServerStylesHost},\n];\n/**\n * The ng module for the server.\n * \n * \\@experimental\n */\nexport class ServerModule {\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: NgModule, args: [{\n  exports: [BrowserModule],\n  imports: [HttpModule, HttpClientModule, NoopAnimationsModule],\n  providers: [\n    SERVER_RENDER_PROVIDERS,\n    SERVER_HTTP_PROVIDERS,\n    {provide: Testability, useValue: null},\n  ],\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n];\n}\n\nfunction ServerModule_tsickle_Closure_declarations() {\n/** @type {?} */\nServerModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerModule.ctorParameters;\n}\n\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction _document(injector: Injector) {\n  let /** @type {?} */ config: PlatformConfig|null = injector.get(INITIAL_CONFIG, null);\n  if (config && config.document) {\n    return parseDocument(config.document, config.url);\n  } else {\n    return getDOM().createHtmlDocument();\n  }\n}\n/**\n * \\@experimental\n */\nexport const /** @type {?} */ platformServer =\n    createPlatformFactory(platformCore, 'server', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n/**\n * The server platform that supports the runtime compiler.\n * \n * \\@experimental\n */\nexport const /** @type {?} */ platformDynamicServer =\n    createPlatformFactory(platformCoreDynamic, 'serverDynamic', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ApplicationRef, Inject, Injectable, Optional} from '@angular/core';\nimport {DOCUMENT, ɵDomAdapter as DomAdapter, ɵSharedStylesHost as SharedStylesHost, ɵTRANSITION_ID, ɵgetDOM as getDOM} from '@angular/platform-browser';\nexport class ServerStylesHost extends SharedStylesHost {\nprivate head: any = null;\n/**\n * @param {?} doc\n * @param {?} transitionId\n */\nconstructor(\nprivate doc: any,\nprivate transitionId: string) {\n    super();\n    this.head = getDOM().getElementsByTagName(doc, 'head')[0];\n  }\n/**\n * @param {?} style\n * @return {?}\n */\n\nprivate _addStyle(style: string): void {\n    let /** @type {?} */ adapter = getDOM();\n    const /** @type {?} */ el = adapter.createElement('style');\n    adapter.setText(el, style);\n    if (!!this.transitionId) {\n      adapter.setAttribute(el, 'ng-transition', this.transitionId);\n    }\n    adapter.appendChild(this.head, el);\n  }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>) { additions.forEach(style => this._addStyle(style)); }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [ɵTRANSITION_ID, ] }, ]},\n];\n}\n\nfunction ServerStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nServerStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerStylesHost.ctorParameters;\n/** @type {?} */\nServerStylesHost.prototype.head;\n/** @type {?} */\nServerStylesHost.prototype.doc;\n/** @type {?} */\nServerStylesHost.prototype.transitionId;\n}\n\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DomElementSchemaRegistry} from '@angular/compiler';\nimport {APP_ID, Inject, Injectable, NgZone, RenderComponentType, Renderer, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2, RootRenderer, ViewEncapsulation, ɵstringify as stringify} from '@angular/core';\nimport {DOCUMENT, ɵNAMESPACE_URIS as NAMESPACE_URIS, ɵSharedStylesHost as SharedStylesHost, ɵflattenStyles as flattenStyles, ɵgetDOM as getDOM, ɵshimContentAttribute as shimContentAttribute, ɵshimHostAttribute as shimHostAttribute} from '@angular/platform-browser';\n\nconst /** @type {?} */ EMPTY_ARRAY: any[] = [];\nexport class ServerRendererFactory2 implements RendererFactory2 {\nprivate rendererByCompId = new Map<string, Renderer2>();\nprivate defaultRenderer: Renderer2;\nprivate schema = new DomElementSchemaRegistry();\n/**\n * @param {?} ngZone\n * @param {?} document\n * @param {?} sharedStylesHost\n */\nconstructor(\nprivate ngZone: NgZone,\nprivate document: any,\nprivate sharedStylesHost: SharedStylesHost) {\n    this.defaultRenderer = new DefaultServerRenderer2(document, ngZone, this.schema);\n  };\n/**\n * @param {?} element\n * @param {?} type\n * @return {?}\n */\ncreateRenderer(element: any, type: RendererType2|null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Native:\n      case ViewEncapsulation.Emulated: {\n        let /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer = new EmulatedEncapsulationServerRenderer2(\n              this.document, this.ngZone, this.sharedStylesHost, this.schema, type);\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        ( /** @type {?} */((<EmulatedEncapsulationServerRenderer2>renderer))).applyToHost(element);\n        return renderer;\n      }\n      case ViewEncapsulation.Native:\n        throw new Error('Native encapsulation is not supported on the server!');\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const /** @type {?} */ styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n/**\n * @return {?}\n */\nbegin() {}\n/**\n * @return {?}\n */\nend() {}\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: NgZone, },\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: SharedStylesHost, },\n];\n}\n\nfunction ServerRendererFactory2_tsickle_Closure_declarations() {\n/** @type {?} */\nServerRendererFactory2.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerRendererFactory2.ctorParameters;\n/** @type {?} */\nServerRendererFactory2.prototype.rendererByCompId;\n/** @type {?} */\nServerRendererFactory2.prototype.defaultRenderer;\n/** @type {?} */\nServerRendererFactory2.prototype.schema;\n/** @type {?} */\nServerRendererFactory2.prototype.ngZone;\n/** @type {?} */\nServerRendererFactory2.prototype.document;\n/** @type {?} */\nServerRendererFactory2.prototype.sharedStylesHost;\n}\n\nclass DefaultServerRenderer2 implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n/**\n * @param {?} document\n * @param {?} ngZone\n * @param {?} schema\n */\nconstructor(\nprivate document: any,\nprivate ngZone: NgZone,\nprivate schema: DomElementSchemaRegistry) {}\n/**\n * @return {?}\n */\ndestroy(): void {}\n\n  destroyNode: null;\n/**\n * @param {?} name\n * @param {?=} namespace\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateElement(name: string, namespace?: string, debugInfo?: any): any {\n    if (namespace) {\n      return getDOM().createElementNS(NAMESPACE_URIS[namespace], name);\n    }\n\n    return getDOM().createElement(name);\n  }\n/**\n * @param {?} value\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateComment(value: string, debugInfo?: any): any { return getDOM().createComment(value); }\n/**\n * @param {?} value\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateText(value: string, debugInfo?: any): any { return getDOM().createTextNode(value); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @return {?}\n */\nappendChild(parent: any, newChild: any): void { getDOM().appendChild(parent, newChild); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @param {?} refChild\n * @return {?}\n */\ninsertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      getDOM().insertBefore(parent, refChild, newChild);\n    }\n  }\n/**\n * @param {?} parent\n * @param {?} oldChild\n * @return {?}\n */\nremoveChild(parent: any, oldChild: any): void {\n    if (parent) {\n      getDOM().removeChild(parent, oldChild);\n    }\n  }\n/**\n * @param {?} selectorOrNode\n * @param {?=} debugInfo\n * @return {?}\n */\nselectRootElement(selectorOrNode: string|any, debugInfo?: any): any {\n    let /** @type {?} */ el: any;\n    if (typeof selectorOrNode === 'string') {\n      el = getDOM().querySelector(this.document, selectorOrNode);\n      if (!el) {\n        throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n      }\n    } else {\n      el = selectorOrNode;\n    }\n    getDOM().clearNodes(el);\n    return el;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nparentNode(node: any): any { return getDOM().parentElement(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nnextSibling(node: any): any { return getDOM().nextSibling(node); }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @param {?=} namespace\n * @return {?}\n */\nsetAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().setAttributeNS(el, NAMESPACE_URIS[namespace], namespace + ':' + name, value);\n    } else {\n      getDOM().setAttribute(el, name, value);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\nremoveAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().removeAttributeNS(el, NAMESPACE_URIS[namespace], name);\n    } else {\n      getDOM().removeAttribute(el, name);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\naddClass(el: any, name: string): void { getDOM().addClass(el, name); }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nremoveClass(el: any, name: string): void { getDOM().removeClass(el, name); }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} value\n * @param {?} flags\n * @return {?}\n */\nsetStyle(el: any, style: string, value: any, flags: RendererStyleFlags2): void {\n    getDOM().setStyle(el, style, value);\n  }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} flags\n * @return {?}\n */\nremoveStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    getDOM().removeStyle(el, style);\n  }\n/**\n * @param {?} tagName\n * @param {?} propertyName\n * @return {?}\n */\n\nprivate _isSafeToReflectProperty(tagName: string, propertyName: string): boolean {\n    return this.schema.securityContext(tagName, propertyName, true) ===\n        this.schema.securityContext(tagName, propertyName, false);\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any): void {\n    checkNoSyntheticProp(name, 'property');\n    getDOM().setProperty(el, name, value);\n    // Mirror property values for known HTML element properties in the attributes.\n    const /** @type {?} */ tagName = ( /** @type {?} */((el.tagName as string))).toLowerCase();\n    if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n        this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n        this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n        this._isSafeToReflectProperty(tagName, name)) {\n      this.setAttribute(el, name, value.toString());\n    }\n  }\n/**\n * @param {?} node\n * @param {?} value\n * @return {?}\n */\nsetValue(node: any, value: string): void { getDOM().setText(node, value); }\n/**\n * @param {?} target\n * @param {?} eventName\n * @param {?} callback\n * @return {?}\n */\nlisten(\n      target: 'document'|'window'|'body'|any, eventName: string,\n      callback: (event: any) => boolean): () => void {\n    // Note: We are not using the EventsPlugin here as this is not needed\n    // to run our tests.\n    checkNoSyntheticProp(eventName, 'listener');\n    const /** @type {?} */ el =\n        typeof target === 'string' ? getDOM().getGlobalEventTarget(this.document, target) : target;\n    const /** @type {?} */ outsideHandler = (event: any) => this.ngZone.runGuarded(() => callback(event));\n    return this.ngZone.runOutsideAngular(\n        () => /** @type {?} */(( getDOM().onAndCancel(el, eventName, outsideHandler) as any)));\n  }\n}\n\nfunction DefaultServerRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nDefaultServerRenderer2.prototype.data;\n/** @type {?} */\nDefaultServerRenderer2.prototype.destroyNode;\n/** @type {?} */\nDefaultServerRenderer2.prototype.document;\n/** @type {?} */\nDefaultServerRenderer2.prototype.ngZone;\n/** @type {?} */\nDefaultServerRenderer2.prototype.schema;\n}\n\n\nconst /** @type {?} */ AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n        `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n  }\n}\nclass EmulatedEncapsulationServerRenderer2 extends DefaultServerRenderer2 {\nprivate contentAttr: string;\nprivate hostAttr: string;\n/**\n * @param {?} document\n * @param {?} ngZone\n * @param {?} sharedStylesHost\n * @param {?} schema\n * @param {?} component\n */\nconstructor(\n      document: any, ngZone: NgZone, sharedStylesHost: SharedStylesHost,\n      schema: DomElementSchemaRegistry,\nprivate component: RendererType2) {\n    super(document, ngZone, schema);\n    const /** @type {?} */ styles = flattenStyles(component.id, component.styles, []);\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(component.id);\n    this.hostAttr = shimHostAttribute(component.id);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\napplyToHost(element: any) { super.setAttribute(element, this.hostAttr, ''); }\n/**\n * @param {?} parent\n * @param {?} name\n * @return {?}\n */\ncreateElement(parent: any, name: string): Element {\n    const /** @type {?} */ el = super.createElement(parent, name);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n\nfunction EmulatedEncapsulationServerRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.contentAttr;\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.hostAttr;\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.component;\n}\n\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {LocationChangeEvent, LocationChangeListener, PlatformLocation} from '@angular/common';\nimport {Inject, Injectable, Optional} from '@angular/core';\nimport {DOCUMENT, ɵgetDOM as getDOM} from '@angular/platform-browser';\nimport {Subject} from 'rxjs/Subject';\nimport * as url from 'url';\nimport {INITIAL_CONFIG, PlatformConfig} from './tokens';\n/**\n * @param {?} urlStr\n * @return {?}\n */\nfunction parseUrl(urlStr: string): {pathname: string, search: string, hash: string} {\n  const /** @type {?} */ parsedUrl = url.parse(urlStr);\n  return {\n    pathname: parsedUrl.pathname || '',\n    search: parsedUrl.search || '',\n    hash: parsedUrl.hash || '',\n  };\n}\n/**\n * Server-side implementation of URL state. Implements `pathname`, `search`, and `hash`\n * but not the state stack.\n */\nexport class ServerPlatformLocation implements PlatformLocation {\nprivate _path: string = '/';\nprivate _search: string = '';\nprivate _hash: string = '';\nprivate _hashUpdate = new Subject<LocationChangeEvent>();\n/**\n * @param {?} _doc\n * @param {?} _config\n */\nconstructor(\nprivate _doc: any,   _config: any) {\n    const /** @type {?} */ config = /** @type {?} */(( _config as PlatformConfig | null));\n    if (!!config && !!config.url) {\n      const /** @type {?} */ parsedUrl = parseUrl(config.url);\n      this._path = parsedUrl.pathname;\n      this._search = parsedUrl.search;\n      this._hash = parsedUrl.hash;\n    }\n  }\n/**\n * @return {?}\n */\ngetBaseHrefFromDOM(): string { return /** @type {?} */(( getDOM().getBaseHref(this._doc))); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonPopState(fn: LocationChangeListener): void {\n    // No-op: a state stack is not implemented, so\n    // no events will ever come.\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonHashChange(fn: LocationChangeListener): void { this._hashUpdate.subscribe(fn); }\n/**\n * @return {?}\n */\nget pathname(): string { return this._path; }\n/**\n * @return {?}\n */\nget search(): string { return this._search; }\n/**\n * @return {?}\n */\nget hash(): string { return this._hash; }\n/**\n * @return {?}\n */\nget url(): string { return `${this.pathname}${this.search}${this.hash}`; }\n/**\n * @param {?} value\n * @param {?} oldUrl\n * @return {?}\n */\n\nprivate setHash(value: string, oldUrl: string) {\n    if (this._hash === value) {\n      // Don't fire events if the hash has not changed.\n      return;\n    }\n    this._hash = value;\n    const /** @type {?} */ newUrl = this.url;\n    scheduleMicroTask(\n        () => this._hashUpdate.next( /** @type {?} */(({ type: 'hashchange', oldUrl, newUrl } as LocationChangeEvent))));\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} newUrl\n * @return {?}\n */\nreplaceState(state: any, title: string, newUrl: string): void {\n    const /** @type {?} */ oldUrl = this.url;\n    const /** @type {?} */ parsedUrl = parseUrl(newUrl);\n    this._path = parsedUrl.pathname;\n    this._search = parsedUrl.search;\n    this.setHash(parsedUrl.hash, oldUrl);\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} newUrl\n * @return {?}\n */\npushState(state: any, title: string, newUrl: string): void {\n    this.replaceState(state, title, newUrl);\n  }\n/**\n * @return {?}\n */\nforward(): void { throw new Error('Not implemented'); }\n/**\n * @return {?}\n */\nback(): void { throw new Error('Not implemented'); }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [INITIAL_CONFIG, ] }, ]},\n];\n}\n\nfunction ServerPlatformLocation_tsickle_Closure_declarations() {\n/** @type {?} */\nServerPlatformLocation.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerPlatformLocation.ctorParameters;\n/** @type {?} */\nServerPlatformLocation.prototype._path;\n/** @type {?} */\nServerPlatformLocation.prototype._search;\n/** @type {?} */\nServerPlatformLocation.prototype._hash;\n/** @type {?} */\nServerPlatformLocation.prototype._hashUpdate;\n/** @type {?} */\nServerPlatformLocation.prototype._doc;\n}\n\n/**\n * @param {?} fn\n * @return {?}\n */\nexport function scheduleMicroTask(fn: Function) {\n  Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n}\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n/**\n * Config object passed to initialize the platform.\n * \n * \\@experimental\n * @record\n */\nexport function PlatformConfig() {}\n\n\nfunction PlatformConfig_tsickle_Closure_declarations() {\n/** @type {?|undefined} */\nPlatformConfig.prototype.document;\n/** @type {?|undefined} */\nPlatformConfig.prototype.url;\n}\n\n\n/**\n * Config object passed to initialize the platform.\n *\n * @experimental\n */\nexport interface PlatformConfig {\n  document?: string;\n  url?: string;\n}\n/**\n * The DI token for setting the initial config for the platform.\n * \n * \\@experimental\n */\nexport const /** @type {?} */ INITIAL_CONFIG = new InjectionToken<PlatformConfig>('Server.INITIAL_CONFIG');\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n\n/**\n * @license \n * Copyright Google Inc. All Rights Reserved.\n * \n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst /** @type {?} */ xhr2: any = require('xhr2');\n\nimport {Injectable, Optional, Provider} from '@angular/core';\nimport {BrowserXhr, Connection, ConnectionBackend, Http, ReadyState, Request, RequestOptions, Response, XHRBackend, XSRFStrategy} from '@angular/http';\n\nimport {HttpClient, HttpEvent, HttpRequest, HttpHandler, HttpInterceptor, HttpResponse, HTTP_INTERCEPTORS, HttpBackend, XhrFactory, ɵinterceptingHandler as interceptingHandler} from '@angular/common/http';\n\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport {Subscription} from 'rxjs/Subscription';\n\nconst /** @type {?} */ isAbsoluteUrl = /^[a-zA-Z\\-\\+.]+:\\/\\//;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction validateRequestUrl(url: string): void {\n  if (!isAbsoluteUrl.test(url)) {\n    throw new Error(`URLs requested via Http on the server must be absolute. URL: ${url}`);\n  }\n}\nexport class ServerXhr implements BrowserXhr {\n/**\n * @return {?}\n */\nbuild(): XMLHttpRequest { return new xhr2.XMLHttpRequest(); }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n];\n}\n\nfunction ServerXhr_tsickle_Closure_declarations() {\n/** @type {?} */\nServerXhr.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerXhr.ctorParameters;\n}\n\nexport class ServerXsrfStrategy implements XSRFStrategy {\n/**\n * @param {?} req\n * @return {?}\n */\nconfigureRequest(req: Request): void {}\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n];\n}\n\nfunction ServerXsrfStrategy_tsickle_Closure_declarations() {\n/** @type {?} */\nServerXsrfStrategy.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerXsrfStrategy.ctorParameters;\n}\n\n/**\n * @abstract\n */\nexport abstract class ZoneMacroTaskWrapper<S, R> {\n/**\n * @param {?} request\n * @return {?}\n */\nwrap(request: S): Observable<R> {\n    return new Observable((observer: Observer<R>) => {\n      let /** @type {?} */ task: Task = /** @type {?} */(( null));\n      let /** @type {?} */ scheduled: boolean = false;\n      let /** @type {?} */ sub: Subscription|null = null;\n      let /** @type {?} */ savedResult: any = null;\n      let /** @type {?} */ savedError: any = null;\n\n      const /** @type {?} */ scheduleTask = (_task: Task) => {\n        task = _task;\n        scheduled = true;\n\n        const /** @type {?} */ delegate = this.delegate(request);\n        sub = delegate.subscribe(\n            res => savedResult = res,\n            err => {\n              if (!scheduled) {\n                throw new Error(\n                    'An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n              }\n              savedError = err;\n              scheduled = false;\n              task.invoke();\n            },\n            () => {\n              if (!scheduled) {\n                throw new Error(\n                    'An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n              }\n              scheduled = false;\n              task.invoke();\n            });\n      };\n\n      const /** @type {?} */ cancelTask = (_task: Task) => {\n        if (!scheduled) {\n          return;\n        }\n        scheduled = false;\n        if (sub) {\n          sub.unsubscribe();\n          sub = null;\n        }\n      };\n\n      const /** @type {?} */ onComplete = () => {\n        if (savedError !== null) {\n          observer.error(savedError);\n        } else {\n          observer.next(savedResult);\n          observer.complete();\n        }\n      };\n\n      // MockBackend for Http is synchronous, which means that if scheduleTask is by\n      // scheduleMacroTask, the request will hit MockBackend and the response will be\n      // sent, causing task.invoke() to be called.\n      const /** @type {?} */ _task = Zone.current.scheduleMacroTask(\n          'ZoneMacroTaskWrapper.subscribe', onComplete, {}, () => null, cancelTask);\n      scheduleTask(_task);\n\n      return () => {\n        if (scheduled && task) {\n          task.zone.cancelTask(task);\n          scheduled = false;\n        }\n        if (sub) {\n          sub.unsubscribe();\n          sub = null;\n        }\n      };\n    });\n  }\n\n  protected abstract delegate(request: S): Observable<R>;\n}\n\nfunction ZoneMacroTaskWrapper_tsickle_Closure_declarations() {\n\n/**\n * @abstract\n * @param {?} request\n * @return {?}\n */\nZoneMacroTaskWrapper.prototype.delegate = function(request) {};\n}\n\nexport class ZoneMacroTaskConnection extends ZoneMacroTaskWrapper<Request, Response> implements\n    Connection {\n  response: Observable<Response>;\n  lastConnection: Connection;\n/**\n * @param {?} request\n * @param {?} backend\n */\nconstructor(public request: Request,\nprivate backend: XHRBackend) {\n    super();\n    validateRequestUrl(request.url);\n    this.response = this.wrap(request);\n  }\n/**\n * @param {?} request\n * @return {?}\n */\ndelegate(request: Request): Observable<Response> {\n    this.lastConnection = this.backend.createConnection(request);\n    return /** @type {?} */(( this.lastConnection.response as Observable<Response>));\n  }\n/**\n * @return {?}\n */\nget readyState(): ReadyState {\n    return !!this.lastConnection ? this.lastConnection.readyState : ReadyState.Unsent;\n  }\n}\n\nfunction ZoneMacroTaskConnection_tsickle_Closure_declarations() {\n/** @type {?} */\nZoneMacroTaskConnection.prototype.response;\n/** @type {?} */\nZoneMacroTaskConnection.prototype.lastConnection;\n/** @type {?} */\nZoneMacroTaskConnection.prototype.request;\n/** @type {?} */\nZoneMacroTaskConnection.prototype.backend;\n}\n\nexport class ZoneMacroTaskBackend implements ConnectionBackend {\n/**\n * @param {?} backend\n */\nconstructor(private backend: XHRBackend) {}\n/**\n * @param {?} request\n * @return {?}\n */\ncreateConnection(request: any): ZoneMacroTaskConnection {\n    return new ZoneMacroTaskConnection(request, this.backend);\n  }\n}\n\nfunction ZoneMacroTaskBackend_tsickle_Closure_declarations() {\n/** @type {?} */\nZoneMacroTaskBackend.prototype.backend;\n}\n\nexport class ZoneClientBackend extends\n    ZoneMacroTaskWrapper<HttpRequest<any>, HttpEvent<any>> implements HttpBackend {\n/**\n * @param {?} backend\n */\nconstructor(private backend: HttpBackend) { super(); }\n/**\n * @param {?} request\n * @return {?}\n */\nhandle(request: HttpRequest<any>): Observable<HttpEvent<any>> { return this.wrap(request); }\n/**\n * @param {?} request\n * @return {?}\n */\nprotected delegate(request: HttpRequest<any>): Observable<HttpEvent<any>> {\n    return this.backend.handle(request);\n  }\n}\n\nfunction ZoneClientBackend_tsickle_Closure_declarations() {\n/** @type {?} */\nZoneClientBackend.prototype.backend;\n}\n\n/**\n * @param {?} xhrBackend\n * @param {?} options\n * @return {?}\n */\nexport function httpFactory(xhrBackend: XHRBackend, options: RequestOptions) {\n  const /** @type {?} */ macroBackend = new ZoneMacroTaskBackend(xhrBackend);\n  return new Http(macroBackend, options);\n}\n/**\n * @param {?} backend\n * @param {?} interceptors\n * @return {?}\n */\nexport function zoneWrappedInterceptingHandler(\n    backend: HttpBackend, interceptors: HttpInterceptor[] | null) {\n  const /** @type {?} */ realBackend: HttpBackend = interceptingHandler(backend, interceptors);\n  return new ZoneClientBackend(realBackend);\n}\n\nexport const /** @type {?} */ SERVER_HTTP_PROVIDERS: Provider[] = [\n  {provide: Http, useFactory: httpFactory, deps: [XHRBackend, RequestOptions]},\n  {provide: BrowserXhr, useClass: ServerXhr}, {provide: XSRFStrategy, useClass: ServerXsrfStrategy},\n  {provide: XhrFactory, useClass: ServerXhr}, {\n    provide: HttpHandler,\n    useFactory: zoneWrappedInterceptingHandler,\n    deps: [HttpBackend, [new Optional(), HTTP_INTERCEPTORS]]\n  }\n];\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable} from '@angular/core';\nimport {DOCUMENT, ɵgetDOM as getDOM} from '@angular/platform-browser';\n\nimport {serializeDocument} from './domino_adapter';\n/**\n * Representation of the current platform state.\n * \n * \\@experimental\n */\nexport class PlatformState {\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {}\n/**\n * Renders the current state of the platform to string.\n * @return {?}\n */\nrenderToString(): string { return serializeDocument(this._doc); }\n/**\n * Returns the current DOM state.\n * @return {?}\n */\ngetDocument(): any { return this._doc; }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction PlatformState_tsickle_Closure_declarations() {\n/** @type {?} */\nPlatformState.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPlatformState.ctorParameters;\n/** @type {?} */\nPlatformState.prototype._doc;\n}\n\n","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n\n/**\n * @license \n * Copyright Google Inc. All Rights Reserved.\n * \n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst /** @type {?} */ domino = require('domino');\n\nimport {ɵBrowserDomAdapter as BrowserDomAdapter, ɵsetRootDomAdapter as setRootDomAdapter} from '@angular/platform-browser';\n/**\n * @param {?} methodName\n * @return {?}\n */\nfunction _notImplemented(methodName: string) {\n  return new Error('This method is not implemented in DominoAdapter: ' + methodName);\n}\n/**\n * Parses a document string to a Document object.\n * @param {?} html\n * @param {?=} url\n * @return {?}\n */\nexport function parseDocument(html: string, url = '/') {\n  let /** @type {?} */ window = domino.createWindow(html, url);\n  let /** @type {?} */ doc = window.document;\n  return doc;\n}\n/**\n * Serializes a document to string.\n * @param {?} doc\n * @return {?}\n */\nexport function serializeDocument(doc: Document): string {\n  return ( /** @type {?} */((doc as any))).serialize();\n}\n/**\n * DOM Adapter for the server platform based on https://github.com/fgnass/domino.\n */\nexport class DominoAdapter extends BrowserDomAdapter {\n/**\n * @return {?}\n */\nstatic makeCurrent() { setRootDomAdapter(new DominoAdapter()); }\nprivate static defaultDoc: Document;\n/**\n * @param {?} error\n * @return {?}\n */\nlogError(error: string) { console.error(error); }\n/**\n * @param {?} error\n * @return {?}\n */\nlog(error: string) { console.log(error); }\n/**\n * @param {?} error\n * @return {?}\n */\nlogGroup(error: string) { console.error(error); }\n/**\n * @return {?}\n */\nlogGroupEnd() {}\n/**\n * @return {?}\n */\nsupportsDOMEvents(): boolean { return false; }\n/**\n * @return {?}\n */\nsupportsNativeShadowDOM(): boolean { return false; }\n/**\n * @param {?} nodeA\n * @param {?} nodeB\n * @return {?}\n */\ncontains(nodeA: any, nodeB: any): boolean {\n    let /** @type {?} */ inner = nodeB;\n    while (inner) {\n      if (inner === nodeA) return true;\n      inner = inner.parent;\n    }\n    return false;\n  }\n/**\n * @return {?}\n */\ncreateHtmlDocument(): HTMLDocument {\n    return parseDocument('<html><head><title>fakeTitle</title></head><body></body></html>');\n  }\n/**\n * @return {?}\n */\ngetDefaultDocument(): Document {\n    if (!DominoAdapter.defaultDoc) {\n      DominoAdapter.defaultDoc = domino.createDocument();\n    }\n    return DominoAdapter.defaultDoc;\n  }\n/**\n * @param {?} el\n * @param {?=} doc\n * @return {?}\n */\ncreateShadowRoot(el: any, doc: Document = document): DocumentFragment {\n    el.shadowRoot = doc.createDocumentFragment();\n    el.shadowRoot.parent = el;\n    return el.shadowRoot;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetShadowRoot(el: any): DocumentFragment { return el.shadowRoot; }\n/**\n * @param {?} node\n * @return {?}\n */\nisTextNode(node: any): boolean { return node.nodeType === DominoAdapter.defaultDoc.TEXT_NODE; }\n/**\n * @param {?} node\n * @return {?}\n */\nisCommentNode(node: any): boolean {\n    return node.nodeType === DominoAdapter.defaultDoc.COMMENT_NODE;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nisElementNode(node: any): boolean {\n    return node ? node.nodeType === DominoAdapter.defaultDoc.ELEMENT_NODE : false;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nhasShadowRoot(node: any): boolean { return node.shadowRoot != null; }\n/**\n * @param {?} node\n * @return {?}\n */\nisShadowRoot(node: any): boolean { return this.getShadowRoot(node) == node; }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\ngetProperty(el: Element, name: string): any {\n    // Domino tries tp resolve href-s which we do not want. Just return the\n    // atribute value.\n    if (name === 'href') {\n      return this.getAttribute(el, 'href');\n    }\n    return ( /** @type {?} */((<any>el)))[name];\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: Element, name: string, value: any) {\n    // Eventhough the server renderer reflects any properties to attributes\n    // map 'href' to atribute just to handle when setProperty is directly called.\n    if (name === 'href') {\n      this.setAttribute(el, 'href', value);\n    }\n    ( /** @type {?} */((<any>el)))[name] = value;\n  }\n/**\n * @param {?} doc\n * @param {?} target\n * @return {?}\n */\ngetGlobalEventTarget(doc: Document, target: string): EventTarget|null {\n    if (target === 'window') {\n      return doc.defaultView;\n    }\n    if (target === 'document') {\n      return doc;\n    }\n    if (target === 'body') {\n      return doc.body;\n    }\n    return null;\n  }\n/**\n * @param {?} doc\n * @return {?}\n */\ngetBaseHref(doc: Document): string {\n    const /** @type {?} */ base = this.querySelector(doc.documentElement, 'base');\n    let /** @type {?} */ href = '';\n    if (base) {\n      href = this.getHref(base);\n    }\n    // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n    return href;\n  }\n/**\n * \\@internal\n * @param {?} element\n * @return {?}\n */\n_readStyleAttribute(element: any) {\n    const /** @type {?} */ styleMap = {};\n    const /** @type {?} */ styleAttribute = element.getAttribute('style');\n    if (styleAttribute) {\n      const /** @type {?} */ styleList = styleAttribute.split(/;+/g);\n      for (let /** @type {?} */ i = 0; i < styleList.length; i++) {\n        if (styleList[i].length > 0) {\n          const /** @type {?} */ style = /** @type {?} */(( styleList[i] as string));\n          const /** @type {?} */ colon = style.indexOf(':');\n          if (colon === -1) {\n            throw new Error(`Invalid CSS style: ${style}`);\n          }\n          ( /** @type {?} */((styleMap as any)))[style.substr(0, colon).trim()] = style.substr(colon + 1).trim();\n        }\n      }\n    }\n    return styleMap;\n  }\n/**\n * \\@internal\n * @param {?} element\n * @param {?} styleMap\n * @return {?}\n */\n_writeStyleAttribute(element: any, styleMap: any) {\n    let /** @type {?} */ styleAttrValue = '';\n    for (const /** @type {?} */ key in styleMap) {\n      const /** @type {?} */ newValue = styleMap[key];\n      if (newValue) {\n        styleAttrValue += key + ':' + styleMap[key] + ';';\n      }\n    }\n    element.setAttribute('style', styleAttrValue);\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @param {?=} styleValue\n * @return {?}\n */\nsetStyle(element: any, styleName: string, styleValue?: string|null) {\n    const /** @type {?} */ styleMap = this._readStyleAttribute(element);\n    ( /** @type {?} */((styleMap as any)))[styleName] = styleValue;\n    this._writeStyleAttribute(element, styleMap);\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @return {?}\n */\nremoveStyle(element: any, styleName: string) { this.setStyle(element, styleName, null); }\n/**\n * @param {?} element\n * @param {?} styleName\n * @return {?}\n */\ngetStyle(element: any, styleName: string): string {\n    const /** @type {?} */ styleMap = this._readStyleAttribute(element);\n    return styleMap.hasOwnProperty(styleName) ? ( /** @type {?} */((styleMap as any)))[styleName] : '';\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @param {?=} styleValue\n * @return {?}\n */\nhasStyle(element: any, styleName: string, styleValue?: string): boolean {\n    const /** @type {?} */ value = this.getStyle(element, styleName) || '';\n    return styleValue ? value == styleValue : value.length > 0;\n  }\n/**\n * @param {?} el\n * @param {?} evt\n * @return {?}\n */\ndispatchEvent(el: Node, evt: any) {\n    el.dispatchEvent(evt);\n\n    // Dispatch the event to the window also.\n    const /** @type {?} */ doc = el.ownerDocument || el;\n    const /** @type {?} */ win = ( /** @type {?} */((doc as any))).defaultView;\n    if (win) {\n      win.dispatchEvent(evt);\n    }\n  }\n/**\n * @return {?}\n */\ngetHistory(): History { throw _notImplemented('getHistory'); }\n/**\n * @return {?}\n */\ngetLocation(): Location { throw _notImplemented('getLocation'); }\n/**\n * @return {?}\n */\ngetUserAgent(): string { return 'Fake user agent'; }\n/**\n * @return {?}\n */\nsupportsWebAnimation(): boolean { return false; }\n/**\n * @return {?}\n */\nperformanceNow(): number { return Date.now(); }\n/**\n * @return {?}\n */\ngetAnimationPrefix(): string { return ''; }\n/**\n * @return {?}\n */\ngetTransitionEnd(): string { return 'transitionend'; }\n/**\n * @return {?}\n */\nsupportsAnimation(): boolean { return true; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetDistributedNodes(el: any): Node[] { throw _notImplemented('getDistributedNodes'); }\n/**\n * @return {?}\n */\nsupportsCookies(): boolean { return false; }\n/**\n * @param {?} name\n * @return {?}\n */\ngetCookie(name: string): string { throw _notImplemented('getCookie'); }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetCookie(name: string, value: string) { throw _notImplemented('setCookie'); }\n}\n\nfunction DominoAdapter_tsickle_Closure_declarations() {\n/** @type {?} */\nDominoAdapter.defaultDoc;\n}\n"],"names":["platformCoreDynamic","getDOM","SharedStylesHost","ALLOW_MULTIPLE_PLATFORMS","PLATFORM_SERVER_ID","shimHostAttribute","shimContentAttribute","flattenStyles","NAMESPACE_URIS","url.parse","interceptingHandler","url","setRootDomAdapter","BrowserDomAdapter"],"mappings":"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"}